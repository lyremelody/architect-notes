# 对于"软件架构"的理解

<strong><font color="red">最后修改于2023-06-24</font></strong>

- [对于"软件架构"的理解](#对于软件架构的理解)
  - [1 「架构」是什么？](#1-架构是什么)
    - [1.1「架构」的隐喻来源](#11架构的隐喻来源)
    - [1.2 计算机体系架构(Computer Architecture)](#12-计算机体系架构computer-architecture)
    - [1.3 软件架构(Software Architecture)出现的历史背景](#13-软件架构software-architecture出现的历史背景)
  - [2 软件架构是什么？](#2-软件架构是什么)
    - [2.1 软件架构设计的目的](#21-软件架构设计的目的)
    - [2.2 软件架构的定义](#22-软件架构的定义)
  - [3 为何需要软件架构？](#3-为何需要软件架构)
  - [4 软件架构相关的概念](#4-软件架构相关的概念)
    - [4.1 Architectural Style 架构风格](#41-architectural-style-架构风格)
    - [4.2 Architectual Pattern 架构模式](#42-architectual-pattern-架构模式)
  - [5 软件架构如何设计？](#5-软件架构如何设计)
  - [6 软件架构如何描述？](#6-软件架构如何描述)
  - [参考资料](#参考资料)


## 1 「架构」是什么？
在 IT 领域，我们在日常工作中会提到一些相关的词，比如：整体架构、产品架构、业务架构、信息架构、技术架构、软件架构、系统架构、传统架构、云原生架构、服务架构、微服务架构、单体架构、服务网格架构、前端架构、部署架构、物理架构、逻辑架构、运行架构、开发架构、测试架构、存储架构、数据库架构、网络架构、通信架构、可观测性架构、备份容灾架构、安全架构、信息安全架构、分层架构、CS架构、BS架构、事件驱动架构、云架构、混合云架构、插件架构、高可用架构、应用架构、存算分离架构、中台架构、多租户架构、SaaS架构、运维架构、分布式架构、集群架构、大数据架构、人工智能架构、低代码架构、网关架构、认证架构、配置架构、开放架构、开放平台架构、元数据驱动架构、整洁架构、DDD领域模型架构、六边形架构、洋葱架构、插件架构、超融合架构、硬件架构、服务器架构、芯片架构、计算机体系结构(Computer Architecture)、企业架构、组织架构...
看起来「架构」是一个名词，前面加上不同的形容词或者名词，就组成了一个新的概念。似乎「架构」/ 「Architecture」就是一个神奇的词汇。

这么多「 xx 架构」，概念上或者某些模式上都是一致的吗？或者说不同角色的人，说的同一个「xx 架构」是指的同一个含义吗？

不搞清楚这个问题，沟通和理解上难免会出现鸿沟。

### 1.1「架构」的隐喻来源
「架构」英文 Architecture，是由「建筑」隐喻而来。IT领域很多概念都是从其他领域隐喻而来，比如可观测性 Observability 源于控制理论。

从维基百科可以看到相关介绍，我简单总结如下。
建筑作品以物质形式交付，比如房子、桥、城墙。主要有几个特征：实用、耐用和美感。同时在时代发展过程中，建筑还被认为是一种艺术形式，不仅包括实用、质量，还包括审美、心理和文化等维度。

Architecture(建筑)的含义包括：
* 描述建筑物和其他物理结构的通用术语。
* 建筑物和其他物理结构的设计风格和建造方法。
* 统一或连贯的形式或结构。
* 艺术、科学、技术和人文知识。
* 建筑师的设计活动，从宏观层面（城市设计、景观建筑）到微观层面（建筑细节和家具）
* 建筑师的实践，其中建筑意味着提供或提供与建筑物或建筑环境的设计和建造相关的专业服务。
即描述建筑物、建筑物结构、建筑设计方法、建筑建造方法。

### 1.2 计算机体系架构(Computer Architecture)

### 1.3 软件架构(Software Architecture)出现的历史背景
见 [《软件架构发展史》](./timelines/software-architecture-timeline.md)

## 2 软件架构是什么？
### 2.1 软件架构设计的目的
软件架构设计的主要目的是为了解决复杂性带来的问题，即管理复杂性。

### 2.2 软件架构的定义
架构是抽象的；在表现上，可能是以文档、架构图等方式描述系统的结构。

有几个定义，如下：
* 一个软件架构是一个软件系统在其操作的某个阶段的运行时(run-time)元素的抽象。一个系统可能由很多层抽象和很多个操作阶段组成，每个抽象和操作阶段都有自己的软件架构。
* 软件架构(software architecture) 是软件设计的高层部分，是用于支撑更细节的设计的框架。
* 架构也称为“系统架构/system architecture”、“高层设计/high-level design”或“顶层设计/top-level design”。通常会用一份独立的文档描述架构，这份文档成为“架构规格书/architecture specification”或者“顶层设计”
* 有些人对“架构”和“顶层设计”加以区分 -- 架构指的是适用于整个系统范围的设计约束；而高层设计指的是适用于子系统层次或多个类的层次上的设计约束(但不是整个系统范围的设计)。
* 软件架构不是一个可实际操作的产品，它是一种可以帮助你：
  1. 分析设计在满足既定需求方面的有效性
  2. 在设计变更相对容易的阶段，考虑架构可能的选择方案
  3. 降低与软件构建相关风险的方式

还有一种定义，如下。

**系统的软件架构是对系统进行推理所需的一组结构。这些结构包括软件元素、元素之间的关系以及两者的属性。架构是关于推理和赋能结构的**。
* **架构是一组软件结构**。一个结构是由关系维系在一起的一组元素。软件系统由许多结构组成，一个单一结构不能称为架构。结构可以分成不同的类别，这些类别本身提供了思考架构的有用方法。架构结构可以分为三个有用的类别，它们将在架构的设计、文档编写和分析中扮演重要的角色：组件及连接器结构、模块结构、分配结构。虽然软件包含无穷无尽的结构，但并不是所有的结构都与架构有关。**如果一个结构支持关于系统和系统属性的推理，那么它才是架构。这个推理应该涉及利益相关者关注的某些重要系统属性**。这些属性包括系统所实现的功能、系统在遇到故障或试图关闭时保持有效操作的能力、对系统进行特定更改的难易程度、系统对用户请求的响应能力等。架构结构的集合既不是固定的，也不是有限的。**什么是架构取决于系统上下文的推理中什么是有用的**。
* **架构是一种抽象**。由于架构由结构组成，而结构由元素和关系组成，因此，架构由软件元素以及这些元素的关系组成。这意味着架构专门有意地省略了对系统推理无用的某些元素信息。因此，**架构首先是对系统的抽象，它留意某些细节并忽略其他细节**。在所有现代系统中，元素之间通过接口进行交互，接口将元素的细节划分为公共部分和私有部分。**架构关注的是公共部分；元素的私有部分(仅与内部实现有关的细节)与架构无关**。这种抽象对于控制架构的复杂性至关重要：我们不能，也不希望所有时间都在处理复杂性。我们希望且需要的是，理解系统的架构要比理解系统的每个细节容易很多个数量级。我们不可能在头脑中记住哪怕是一个中等规模系统的每个细节，架构的关键在于让我们不必这么做。
* **架构是设计，但并不是所有的设计都是架构**。
* **每个软件系统都有一个软件架构**。因为每个系统都有元素和关系，无论是否有文档描述这些元素和关系。
* **架构包括行为**。每个元素的行为都是架构的一部分，并帮助我们进行系统推理。元素的行为体现了元素之间以及与环境之间如何相互作用。这显然是架构定义的一部分，并且对系统所展示的属性(比如运行时的性能)产生影响。架构师不必关注元素的所有行为。然而，当一个元素的行为影响了整个系统的可接受性时，这个行为必须被认为是系统架构设计的一部分，并被记录下来。

## 3 为何需要软件架构？

## 4 软件架构相关的概念
### 4.1 Architectural Style 架构风格
Architectural Style，架构风格，也有翻译成体系结构风格。
Component，组件，也有翻译成构建。

架构风格就是施加在整个系统设计上的一种变换，目的是为系统中所有组件建立一个结构。

基于计算机系统构造的软件会表现出众多架构风格中的一种。
每个架构风格都描述了一种系统类别，包括：
1. 一组执行系统所需功能的组件(例如，数据库、计算模块)
2. 一组实现组件间“通信、合作和协调”的连接件
3. 定义组件如何集成为系统的约束
4. 能够使设计者通过分析系统组成元素的已知属性来理解系统整体性质的语义模型[Bas12]

### 4.2 Architectual Pattern 架构模式
架构模式和架构风格一样，也对架构设计施加一种变换。
架构模式和架构风格在许多基本方面存在不同：
1. 架构模式涉及的范围更窄一些，它更多地关注架构的一个方面而不是架构的整体
2. 架构模式为架构定义规则，描述了软件是如何在基础功能层次(如并发)上处理某些功能性方面的问题
3. 架构模式倾向于解决架构环境中特定的行为问题(例如，实时应用如何处理同步和中断)

架构模式可以与架构风格相结合来更好地确定系统的整体结构。

## 5 软件架构如何设计？

## 6 软件架构如何描述？

## 参考资料
1. 《软件架构实践》